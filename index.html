<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>PixelCaravanCDN</title>
    <link rel="stylesheet" href="assets/pixel-caravan-font.css">
    <style>
        h1, p {
            font-family: "pixel-caravan", serif;
        }
        .image-sprite {
            padding: 15px;
            font-size: 24px;
        }
        #imageList {
            display:flex;
            background: #EEE;
            padding: 15px;
            border-radius: 15px;
            justify-content:center;
            flex-wrap:wrap;
        }
    </style>
</head>
<body>
    <div style="width:fit-content; margin: 0 auto; text-align:center;">
        <h1>Pixel Caravan CDN</h1>
        <p>to use this font</p>
        <pre style="background: #AAAAAA; padding: 25px; border-radius: 25px; width:fit-content;">
        &lt;link rel="stylesheet" href="https://thunderducky.github.io/pixelCaravanCDN/assets/pixel-caravan-font.css"&gt;
        
        font family: "pixel-caravan"
        </pre>
        <p>
            ABCDEFGHIJKLMONPQRSTUVWXYZ
        </p>
        <p>
            0123456789
        </p>
        <p>
            .,!? @#$%^&*() ~ ` '' ""
        </p>
        <p>The quick brown fox jumped over the lazy dog!</p>
       <p> Note: <span style="font-family:serif; display:inline-block; position:relative; top: -5px">$</span> is represented as $</p>
       <div>
           <h2>Images</h2>
           <h3>Spritesheet</h3>
           <div class="imageContainer">
                <img src="./assets/spritesheet.png" />
           </div>
           <h3>Components</h3>
           <div id="imageList">

           </div>
       </div>
    </div>
    <script type="text/javascript">
        console.log("Fetching images");
        const BASE_URL = (window.location.origin.startsWith("localhost"))
            ? "https://thunderducky.github.io/pixelCaravanCDN"
            : "";
        const JSON_URL = `${BASE_URL}/assets/spriteAtlas.json`
        const ulElement = document.querySelector("#imageList")
        fetch(JSON_URL).then(res => res.json()).then(jsonData => {
            console.log(jsonData);
            for(var name in jsonData){
                console.log(name);
                const imageData = jsonData[name];
                const image = document.createElement("img");
                image.setAttribute("alt", name);
                image.setAttribute("src", imageData.singleURL);
                image.setAttribute("width", imageData.width * 4);
                const li = document.createElement("div");
                li.style.display = "flex";
                li.style.justifyContent = "center";
                li.innerHTML = name + "&nbsp&nbsp";
                li.classList.add("image-sprite")
                li.appendChild(image);
                ulElement.appendChild(li);

            }
        })
    </script>
</body>
</html>
